<div class="row">
    <div class="col-sm-12">
        <div class="page-header">
            <h1>MB-STUDI <small>Utilisateurs</small> <button class="btn btn-danger" ng-if="$ctrl.getCurrentUser()" ng-click="$ctrl.logout()">Déconnexion</button></h1>
        </div>
    </div>
</div>
<div class"="row">
    <div class="col-sm-12" style="margin-bottom:1.5em;">
        <div class="table-responsive">
            <table class="table table-bordered">
                <tr>
                    <th>NOM</th>
                    <th>PRÉNOM</th>
                    <th>ÉMAIL</th>
                </tr>
                <tr ng-repeat="user in $ctrl.users">
                    <td>{{user.LastName}}</td>
                    <td>{{user.FirstName}}</td>
                    <td>{{user.Email}}</td>
                </tr>
            </table>
        </div>
        <div class="col-md-12 text-center" style="margin-bottom:2.5em;">
            <button class="btn btn-primary" ng-click="$ctrl.enableNewUserForm()">Nouvel utilisateur</button>
        </div>
        <hr />
        <div class="col-md-4 col-md-offset-4" ng-if="$ctrl.editNewUser">
            <form name="form" enctype="multipart/form-data">
                <div class="form-group text-center">
                    <label>NOM</label>
                    <input class="form-control" 
                           ng-model="$ctrl.newUser.LastName" 
                           name="lastName" 
                           style="margin-left:auto; margin-right:auto;" 
                           required/>
                    <p class="text-danger" ng-if="form.lastName.$error.required && !form.lastName.$pristine">Veuillez saisir un nom.</p>
                </div>
                <div class="form-group text-center">
                    <label>PRÉNOM</label>
                    <input class="form-control" 
                           ng-model="$ctrl.newUser.FirstName" 
                           name="firstName" 
                           style="margin-left:auto; margin-right:auto;" 
                           required/>
                    <p class="text-danger" ng-if="form.firstName.$error.required && !form.firstName.$pristine">Veuillez saisir un prénom.</p>
                </div>
                <div class="form-group text-center">
                    <label>ÉMAIL</label>
                    <input class="form-control" 
                           ng-model="$ctrl.newUser.Email" 
                           name="email" 
                           style="margin-left:auto; margin-right:auto;"
                            ng-pattern="$ctrl.emailPattern" 
                           required/>
                    <p class="text-danger" ng-if="form.email.$error.pattern && !form.email.$pristine">Veuillez entrez une adresse valide.</p>
                    <p class="text-danger" ng-if="form.email.$error.required && !form.email.$pristine">Veuillez saisir une adresse email.</p>
                </div>
                <div class="form-group text-center">
                    <label>MOT DE PASSE</label>
                    <input class="form-control" 
                           ng-model="$ctrl.newUser.Password" 
                           type="password" 
                           name="password" 
                           style="margin-left:auto; margin-right:auto;" 
                           required/>
                    <p class="text-danger" ng-if="form.password.$error.required && !form.password.$pristine">Veuillez saisir un mot de passe.</p>
                </div>
                <div class="form-group text-center" ng-if="form.$valid">
                    <button class="btn btn-info" ng-click="$ctrl.addUser()">Valider</button>
                </div>
            </form>
        </div>
    </div>
</div>
